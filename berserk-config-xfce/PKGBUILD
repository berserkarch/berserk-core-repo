# Maintainer: Gaurav Raj (@thehackersbrain) <me@thehackersbrain.xyz>

pkgname=berserk-config-xfce
pkgver=0.5.7
pkgrel=7
pkgdesc="Default XFCE configuration for Berserk Arch"
arch=('any')
url="https://github.com/thehackersbrain/berserk-config-xfce"
_url=https://gitlab.com/berserkarch/berserk-packages/berserk-core/-/raw/main/$pkgname
license=('GPL3')
depends=('berserk-polybar')

source=(
  'https://gitlab.com/kalilinux/packages/kali-themes/-/raw/kali/master/etc/xdg/picom.conf'
  'https://gitlab.com/kalilinux/packages/kali-themes/-/raw/kali/master/etc/lightdm/lightdm-gtk-greeter.conf'
  'https://gitlab.com/berserkarch/beserk-config-src/berserk-config-xfce/-/raw/main/berserk-environment'
)

sha256sums=('f05d2e93d4266589effcf9abbf6959e78407cb09584c86a1aac18388daf9a688'
            '78fabf72657c713ec1722b22371ede6c374c73d90a17d12ac9899d694deea0f2'
            '4478bec46afff9965ce42793d1cf855ee6ae5579cf0b0a77c7a372d58d2c316f')
berserkconfig="usr/share/berserk-arch"

install="$pkgname.install"

package() {
  install -d "${pkgdir}/etc/skel/.config"
  install -d "${pkgdir}/${berserkconfig}/home"

  install -Dm644 "${srcdir}/lightdm-gtk-greeter.conf" "${pkgdir}/etc/lightdm/lightdm-gtk-greeter.conf.new"
  install -Dm644 "${srcdir}/picom.conf" "${pkgdir}/etc/xdg/picom.conf.new"
  install -Dm644 "${srcdir}/berserk-environment" "${pkgdir}/etc/berserk-environment"
  cp -r "${startdir}/xfce4" "${pkgdir}/etc/skel/.config/"

  cp -r "${pkgdir}/etc/skel/" "${pkgdir}/${berserkconfig}/home/"
}
