# Maintainer: Gaurav Raj (@thehackersbrain) <me@thehackersbrain.xyz>

pkgname=berserk-config-openbox
pkgver=1.9.9
pkgrel=6
pkgdesc="Default Openbox configuration for Berserk Arch"
arch=('any')
url="https://github.com/thehackersbrain/berserk-config-openbox"
license=('GPL3')
depends=('openbox' 'berserk-polybar' 'berserk-rofi' 'obconf-qt' 'xcompmgr' 'nitrogen' 'xsettingsd' 'polkit-kde-agent' 'dunst' 'python-pyqt5' 'python-pyqt5-webengine' 'python-pyqt6' 'python-pyqt6-webengine')

source=()
sha256sums=()

install="$pkgname.install"
berserkconfig="usr/share/berserkarch"

package() {
  install -d "${pkgdir}/etc/skel/.config"
  install -d "${pkgdir}/etc/skel/.icons"
  install -d "${pkgdir}/usr/share/icons/default/"
  install -dm755 "${pkgdir}/usr/share/themes"
  install -d "${pkgdir}/${berserkconfig}/home"

  cp -r "${startdir}/config/openbox" "${pkgdir}/etc/skel/.config/"
  cp -r "${startdir}/config/nitrogen" "${pkgdir}/etc/skel/.config/"
  cp -r "${startdir}/config/xsettingsd" "${pkgdir}/etc/skel/.config/"
  cp -r "${startdir}/config/dunst" "${pkgdir}/etc/skel/.config/"
  cp -r "${startdir}/config/berserk" "${pkgdir}/usr/share/themes/"
  cp -r "${startdir}/config/icons/default" "${pkgdir}/etc/skel/.icons"

  install -Dm644 "${startdir}/config/icons/default/index.theme" "${pkgdir}/usr/share/icons/default/index.theme.ba"
  chmod 755 "${pkgdir}/etc/skel/.config/openbox/autostart"
  chmod 644 "${pkgdir}/etc/skel/.config/openbox/environment"

  cp -r "${pkgdir}/etc/skel/" "${pkgdir}/${berserkconfig}/home/"
}
